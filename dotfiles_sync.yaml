# dotfiles_sync.yaml
repo: https://github.com/sounddrill31/dotfiles
branch: main

# Paths start at ~ by default, unless it starts with /
# Fetch from repo's files by default unless external or git is specified 

files:

  # Niri
  - path: .config/niri/config.kdl

  # GTK/Theming
  - path: .config/gtk-3.0/settings.ini
  - path: .config/gtk-4.0/settings.ini

  # Wallpaper
  - path: Pictures/Background.gif
    url: https://codeberg.org/LGFae/awww/media/branch/demos/assets/demo.gif
    source: external
    type: direct
#  - path: .config/systemd/user/swaybg.service
#    run-after:
#      - "systemctl --user add-wants niri.service swaybg.service"
#      - "systemctl --user daemon-reload"
#      - "systemctl --user restart swaybg"

  # Autostart
  - path: .customrc
    exec: true
    autostart: true

  # Scripts
  - path: .local/bin/markdown
    exec: true
  - path: .local/bin/extract-that
    exec: true
  - path: .local/bin/discord
    exec: true
  - path: .local/bin/whatsapp
    exec: true
  # Waybar
  - path: .config/waybar/config.jsonc   # based on default openSUSE config, https://github.com/openSUSE/openSUSEway/tree/0929d704066c72be15be415cfa759281e734d697/.config/waybar 
  - path: .local/bin/rofi-power-menu
    exec: true

  # Micro Editor
  - path: .config/micro/settings.json
  - path: .local/share/applications/micro.desktop
  #- path: .config/micro/bindings.json

  # Sherlock (with source)
  #- path: sources/sherlock
  #  source: git
  #  url: https://github.com/Skxxtz/sherlock
  #  branch: main
  #  run-after:
  #    - "cd sources/sherlock; cargo build --release"
  #    - "cp target/release/sherlock ~/.local/bin || true"
  #  idempotent: true
  #  timeout: none
#
  ## Sherlock-clp (with source)
  #- path: sources/sherlock-clp
  #  source: git
  #  url: https://github.com/Skxxtz/sherlock-clipboard
  #  branch: main
  #  run-after:
  #    - "cd sources/sherlock-clp; cargo build --release"
  #    - "cp target/release/sherlock-clp ~/.local/bin || true"
  #  idempotent: true
  #  timeout: none

  # For Rofi
  - path: sources/rofi
    source: git
    url: https://github.com/davatorium/rofi
    branch: next
  - path: scripts/cliphist
    source: git
    url: https://github.com/sentriz/cliphist
    branch: master # main is default
  
  # Alacritty
  - path: .config/alacritty/alacritty.toml
  - path: .config/alacritty/themes
    source: git
    url: https://github.com/alacritty/alacritty-theme
    branch: master

  # icons
  - path: .local/share/icons/BreezeX-RosePineDawn-Linux
    source: external
    type: tarxz
    url: https://github.com/rose-pine/cursor/releases/download/v1.1.0/BreezeX-RosePineDawn-Linux.tar.xz

  # wob
  - path: .config/wob/wob.ini

  # 1hz
  - path: ~/Projects/pysmu/adalm1000
    source: git
    url: https://github.com/sounddrill31/pysmu-experiments # Aditya's 1hz clock
    idempotent: true
    run-after:
      - "wget -qO- https://pixi.sh/install.sh | sh"
      - "cd linux && pixi install"

#Example for External
#  - path: .local/bin/custom-tool
#    source: external
#    url: https://example.com/files/custom-tool-latest
#    type: direct
